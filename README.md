# Ascension (Dojo Version)


## Temporary hack for custom contract events: 
Currently there are some client components used to decode custom contract events. These are stored in ```events/customEvents.ts```.

 As these will be overwritten every time ```bun run create-components``` is executed, they can be imported and added at the bottom of the contractComponets.ts file.

 ```
 contractComponents.ts
 import { PlayerSpawned, GameStarted } from "../events/customEvents";
 ...
// autogenerated contract components
...
// custom events
PlayerSpawned: PlayerSpawned(world),
GameStarted: GameStarted(world),
 ```

## Running locally:
```
cd dojo-starter && sozo build
katana --disable-fee --dev --block-time 1000
sozo migrate
torii --world 0x33ac2f528bb97cc7b79148fd1756dc368be0e95d391d8c6d6473ecb60b4560e
cd ../client 
bun run dev
sh ./scripts/default_auth.sh
```

### Graphql:
Grpahql playground: http://0.0.0.0:8080/graphql

Example queries:

```
//retrieve all player models
query {
  playerModels {
    edges {
      node {
        player
        gameId
      }
    }
  }
}

//retrieve all position models
query {
  positionModels {
    edges {
      node {
        player
        vec {x y}
      }
    }
  }
}

```

